{% extends 'base.jinja' %}
{% block title %}Custom List{% endblock %}
{% block scripts %}
	<script src="{{ url_for('static', filename='scripts/account.js', v=settings.version) }}" defer></script>
{% endblock %}
{% block content %}
<div class="container">
	<div class="logged-in">
		<p id="account-error" class="error message hide">There was an error.</p>
		<div id="account-settings" class="hide">
			<h3>Hello <span class="account-email clear-logout"></span></h3>
			<hr>
			<section>
				<details name="example">
					<summary>Custom Psalm Lists</summary>
					<button data-target="list-modal" onclick="resetListForm(); toggleModal(event);">Create List</button>
					<ul id="account-lists" class="clear-logout mt-pico"></ul>
				</details>
			</section>
			<hr>
			<section>
				<button data-target="auth-modal"
					onclick="changeAuthModal('resetLogged'); toggleModal(event);"
				>Reset Password</button>
			</section>
		</div>
	</div>
	<div class="logged-out">
		<p class="text-center">
			<a class="pointer underline"
				data-target="auth-modal"
				onclick="changeAuthModal('login'); toggleModal(event);"
			>Login</a>
			or
			<a class="pointer underline"
				data-target="auth-modal"
				onclick="changeAuthModal('register'); toggleModal(event);"
			>Register</a>
			to view your account.
		</p>
	</div>
</div>
{% endblock %}
{% block modals %}
<dialog id="list-modal">
	<article>
		<header>
			<button aria-label="Close"
				rel="prev"
				data-target="list-modal"
				onclick="toggleModal(event)">
			</button>
			<h3>Create Custom Psalm List</h3>
		</header>
		<p id="list-error" class="error message hide">There was an error creating the psalm list.</p>
		<p id="list-success" class="success message hide">List created successfully!</p>
		<form id="list-form" role="form" data-reset="reset">
			<fieldset>
				<label for="list-name">Name <span class="primary">*</span>
					<input type="text" id="list-name" name="list-name"
						required aria-required="true" placeholder="List Name" min="3" max="32">
				</label>
			</fieldset>
		</form>
		<footer>
			<button id="list-close" class="secondary"
				data-target="list-modal"
				onclick="toggleModal(event)">
				Cancel
			</button>
			<button id="list-submit" form="list-form">Submit</button>
		</footer>
	</article>
</dialog>
{% endblock %}
